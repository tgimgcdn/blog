---
import DefaultPage from '@astrojs/starlight/components/StarlightPage.astro';
import HomePage from '../../components/HomePage.astro';

// 为动态路由生成静态路径
export function getStaticPaths() {
  return Array.from({ length: 10 }).map((_, i) => {
    return {
      params: { page: String(i + 1) },
    };
  });
}

// 获取页码参数
const { page } = Astro.params;
const currentPage = parseInt(page);

// 创建页面元数据
const meta = {
  title: `博客 - 第${currentPage}页`,
  description: `博客文章列表 - 第${currentPage}页`
};
---

<!-- 使用与index.mdx相同的页面布局，确保可以访问Astro.locals -->
<DefaultPage {...Astro.props} data={{...Astro.props.data, ...meta}}>
  <HomePage pageNum={currentPage} />
</DefaultPage> 
