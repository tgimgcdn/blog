import { getCollection } from 'astro:content';
import HomePage from '../../components/HomePage.astro';

export const getStaticPaths = async () => {
  const allPosts = await getCollection('docs', entry => entry.id.startsWith('blog/'));
  const totalPages = Math.ceil(allPosts.length / 9);
  
  return Array.from({ length: totalPages }).map((_, i) => ({
    params: { page: String(i + 1) },
    props: { pageNum: i + 1 }
  }));
};

const { pageNum } = Astro.props;

<HomePage pageNum={pageNum} /> 
