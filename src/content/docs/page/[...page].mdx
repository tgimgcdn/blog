---
title: 博客文章
description: 博客文章列表
template: splash
---

import { getCollection } from 'astro:content';
import HomePage from '../../../components/HomePage.astro';

export async function getStaticPaths() {
  const allPosts = await getCollection('docs', entry => entry.id.startsWith('blog/'));
  const postsPerPage = 9;
  const totalPages = Math.ceil(allPosts.length / postsPerPage);
  
  // 只生成第2页及以后的页面
  return Array.from({ length: totalPages }).map((_, i) => {
    const page = i + 1;
    
    // 跳过第1页，因为我们已经有首页了
    if (page === 1) return null;
    
    return {
      params: { page: String(page) },
      props: { page }
    };
  }).filter(Boolean); // 过滤掉null值
}

const { page } = Astro.props;

<HomePage pageNum={page} /> 
