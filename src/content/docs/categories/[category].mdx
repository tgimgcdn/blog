---
title: 分类文章
description: 查看分类下的所有文章
template: splash

export async function getStaticPaths() {
  // 从 starlightBlog 获取所有文章
  const starlightBlog = Astro.locals?.starlightBlog;
  const categories = new Set();
  
  if (starlightBlog?.posts) {
    starlightBlog.posts.forEach(post => {
      const category = post.entry?.data?.category || '未分类';
      categories.add(category);
    });
  }
  
  // 为每个分类生成路径
  return Array.from(categories).map(category => ({
    params: { category },
    props: { category }
  }));
}

const { category } = Astro.props;
---

import CategoryList from '../../../components/CategoryList.astro';

<CategoryList category={category} /> 
