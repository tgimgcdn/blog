---
title: 分类文章
description: 查看分类下的所有文章
template: splash
---

import { getCollection } from 'astro:content';
import CategoryList from '../../../components/CategoryList.astro';

export async function getStaticPaths() {
  const posts = await getCollection('docs');
  const categories = new Set();
  
  // 收集所有分类
  posts.forEach(post => {
    const category = post.data.category || '未分类';
    categories.add(category);
  });
  
  // 为每个分类生成路径
  return Array.from(categories).map(category => ({
    params: { category },
    props: { category }
  }));
}

const { category } = Astro.props;

<CategoryList category={category} /> 
